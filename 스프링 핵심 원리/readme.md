## λΉ„μ¦λ‹μ¤ μ”κµ¬μ‚¬ν•­κ³Ό μ„¤κ³„
- νμ›
	- νμ›μ€ κ°€μ…ν•κ³  μ΅°νν•  μ μμ
	- νμ›μ€ μΌλ°κ³Ό VIP λ‘ λ“±κΈ‰μ΄ μμ
	- νμ› λ°μ΄ν„°λ” μμ²΄ DBλ¥Ό κµ¬μ¶•ν•  μ μκ³ , μ™Έλ¶€ μ‹μ¤ν…κ³Ό μ—°λ™ν•  μ μμ(λ―Έν™•μ •)
- μ£Όλ¬Έκ³Ό ν• μΈ μ •μ±…
	- νμ›μ€ μƒν’μ„ μ£Όλ¬Έν•  μ μμ
	- νμ› λ“±κΈ‰μ— λ”°λΌ ν• μΈ μ •μ±…μ„ μ μ©ν•  μ μμ
	- ν• μΈ μ •μ±…μ€ λ¨λ“  VIPλ” 1000μ› ν• μΈν•΄μ£Όλ” κ³ μ • κΈμ•΅ ν• μΈ μ μ©(λ―Έν™•μ •)
	- ν• μΈ μ •μ±…μ€ λ³€κ²½ κ°€λ¥μ„±μ΄ λ†’μ

**ν™•μ •λμ§€ μ•μ€ μ”κµ¬μ‚¬ν•­μ„ μ„ν•΄ κ°μ²΄ μ§€ν–¥ μ„¤κ³„ λ°©λ²•μ„ μ μ©ν•μ—¬ μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤κ³  κµ¬ν„μ²΄λ¥Ό κ°μ•„λΌμΈ μ μλ„λ΅ μ„¤κ³„**

---

### νμ› λ„λ©”μΈ μ„¤κ³„μ λ¬Έμ μ 
- μ½”λ“ μ„¤κ³„μƒ λ¬Έμ μ ? 
- λ‹¤λ¥Έ μ €μ¥μ†λ΅ λ³€κ²½ μ‹ OCP μ›μΉ™ μ¤€μ?
- DIP μ§€ν‚¤κ³  μλ”μ§€?
- **μμ΅΄κ΄€κ³„κ°€ μΈν„°νμ΄μ¤ λΏλ§ μ•„λ‹λΌ κµ¬ν„κΉμ§€ λ¨λ‘ μμ΅΄ν•λ” λ¬Έμ μ μ΄ μλ‹¤**

  -> MemberServiceImplμ„ λ³΄λ©΄ μΈν„°νμ΄μ¤μ™€ κµ¬ν„μ²΄ λ¨λ‘ μμ΅΄

---
## μ£Όλ¬Έκ³Ό ν• μΈ λ„λ©”μΈ μ„¤κ³„
1. μ£Όλ¬Έ μƒμ„± : ν΄λΌμ΄μ–ΈνΈλ” μ£Όλ¬Έ μ„λΉ„μ¤μ— μ£Όλ¬Έ μƒμ„±μ„ μ”μ²­
2. νμ› μ΅°ν : ν• μΈμ„ μ„ν•΄μ„λ” νμ› λ“±κΈ‰ ν•„μ”, μ£Όλ¬Έ μ„λΉ„μ¤λ” νμ› μ €μ¥μ†μ—μ„ νμ› μ΅°ν
3. ν• μΈ μ μ© : μ£Όλ¬Έ μ„λΉ„μ¤λ” νμ› λ“±κΈ‰μ— λ”°λ¥Έ ν• μΈ μ—¬λ¶€λ¥Ό ν• μΈ μ •μ±…μ— μ„μ„
4. μ£Όλ¬Έ κ²°κ³Ό λ°ν™ : μ£Όλ¬Έ μ„λΉ„μ¤λ” ν• μΈ κ²°κ³Όλ¥Ό ν¬ν•¨ν• μ£Όλ¬Έ κ²°κ³Ό λ°ν™(μμ μ©μΌλ΅ λ‹¨μν™”ν•μ—¬ μ£Όλ¬Έ κ²°κ³Όλ§ λ°ν™)

μ—­ν• κ³Ό κµ¬ν„μ„ λ¶„λ¦¬

---
## μƒλ΅μ΄ ν• μΈ μ •μ±… κ°λ°
- κΈ°μ΅΄μ€ ν• μΈ κΈμ•΅μ„ 1000μ›μΌλ΅ κ³ μ •ν–μ§€λ§ μƒλ΅μ΄ ν• μΈ μ •μ±…μ€ μ£Όλ¬Έ κΈμ•΅λ‹Ή ν• μΈν•λ” μ •λ¥ % ν• μΈ

### μƒλ΅μ΄ ν• μΈ μ •μ±… μ μ©κ³Ό λ¬Έμ μ 
ν• μΈ μ •μ±…μ„ λ³€κ²½ν•κΈ° μ„ν•΄μ„  ν΄λΌμ΄μ–ΈνΈμΈ OrderServiceImpl μμ • ν•„μ”
- μ—­ν• κ³Ό κµ¬ν„μ„ λ¶„λ¦¬ β­•οΈ
- λ‹¤ν•μ„±λ„ ν™μ©ν•κ³  μΈν„°νμ΄μ¤μ™€ κµ¬ν„ κ°μ²΄λ¥Ό λ¶„λ¦¬ β­•οΈ
- OCP, DIP κ°μ²΄μ§€ν–¥ μ„¤κ³„ μ›μΉ™μ„ μ¤€μ? β
  - `prvate final DiscountPolicy discountPolicy = new FixDiscountPolicy();` β΅οΈ `private final DiscountPolicy discountPolicy = new RateDiscountPolicy();`
  - DIP : μ£Όλ¬Έ μ„λΉ„μ¤ ν΄λΌμ΄μ–ΈνΈλ” DiscountPolicy μΈν„°νμ΄μ¤μ— μμ΅΄ν•λ©΄μ„ DIP μ¤€μν• λ“― ν•μ§€λ§ μ¶”μƒ(μΈν„°νμ΄μ¤)λΏλ§ μ•„λ‹λΌ κµ¬μ²΄(κµ¬ν„) ν΄λμ¤μ—λ„ μμ΅΄ν•κ³  μμ
  - OCP : κΈ°λ¥μ„ ν™•μ¥ν•΄μ„ λ³€κ²½ν•λ©΄ ν΄λΌμ΄μ–ΈνΈ μ½”λ“ μμ •μ΄ ν•„μ”, κ³ μ •ν• μΈμ—μ„ μ •λ¥ ν• μΈμΌλ΅ λ³€κ²½ν•  λ• μ½”λ“ λ³€κ²½ ν•„μ”

### ν•΄κ²°λ°©μ•?
- κµ¬ν„μ²΄ μμ΅΄μ„ μ κ±°ν•κ³  μ¶”μƒμ—λ§ μμ΅΄ν•λ„λ΅ μ½”λ“ μμ • β΅οΈ `private DiscountPolicy discountPolicy;`
- μ‹¤ν–‰μ‹ NPE λ°μƒ
- π’΅ ν΄λΌμ΄μ–ΈνΈμ— **κµ¬ν„κ°μ²΄λ¥Ό λ€μ‹  μƒμ„±ν•κ³  μ£Όμ…ν•΄μ£Όλ” κ³Όμ •μ΄ ν•„μ”**

---
## κ΄€μ‹¬μ‚¬μ λ¶„λ¦¬
### AppConfig
- μ• ν”λ¦¬μΌ€μ΄μ…μ μ „μ²΄ λ™μ‘ λ°©μ‹μ„ κµ¬μ„±ν•κΈ° μ„ν•΄ **κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±**ν•κ³  **μ—°κ²°**ν•λ” μ±…μ„μ„ κ°€μ§€λ” λ³„λ„μ μ„¤μ • ν΄λμ¤
- AppConfigμ—μ„ μ‹¤μ  λ™μ‘μ— ν•„μ”ν• κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±, μƒμ„±ν• κ°μ²΄ μΈμ¤ν„΄μ¤μ μ°Έμ΅°λ¥Ό μƒμ„±μλ¥Ό ν†µν•΄ μ£Όμ…(μ—°κ²°)
  ```
	 public MemberService memberService(){
       return new MemberServiceImpl(new MemoryMemberRepository());
	 } // μƒμ„±μ μ£Όμ…
  ```
  - `MemberServiceImpl` β΅οΈ `MemoryMemberRepository`
  - `OrderServiceImpl` β΅οΈ `MemoryMemberRepository`, `FixDiscountPolicy`

### DIP μ™„μ„±, κ΄€μ‹¬μ‚¬ λ¶„λ¦¬
- DIP
  - ν΄λΌμ΄μ–ΈνΈλ” λ”μ΄μƒ κµ¬μ²΄ ν΄λμ¤μ— μμ΅΄ν•μ§€ μ•μ
  - ν΄λΌμ΄μ–ΈνΈλ” **μ¶”μƒλ§ μμ΅΄**ν•κ³  κµ¬μ²΄ ν΄λμ¤λ¥Ό λ°λΌλ„ λ¨
- κ΄€μ‹¬μ‚¬ λ¶„λ¦¬
  - κµ¬ν„ κ°μ²΄λ” μ™Έλ¶€(`AppConfig`)μ— μν•΄μ„ κ²°μ •
  - μμ΅΄κ΄€κ³„μ— λ€ν• κ³ λ―Όμ€ λ¨λ‘ μ™Έλ¶€μ—μ„ μ²λ¦¬λκ³  μ‹¤ν–‰μ—λ§ μ§‘μ¤‘
  - **κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ—°κ²°ν•λ” μ—­ν• **κ³Ό **μ‹¤ν–‰ν•λ” μ—­ν• **μ΄ λ…ν™•ν•κ² λ¶„λ¦¬

### μμ΅΄κ΄€κ³„ μ£Όμ… Dependency Injection, DI
- ν΄λΌμ΄μ–ΈνΈ μ…μ¥μ—μ„ μμ΅΄κ΄€κ³„λ¥Ό μ™Έλ¶€μ—μ„ μ£Όμ…

--- 
## AppConfig λ¦¬ν©ν„°λ§

    public MemberService memberService(){
        return new MemberServiceImpl(memberRepository());
    }
    
    private MemberRepository memberRepository() {
        return new MemoryMemberRepository();
    } // memberRepository κµ¬ν„μ„ λ”°λ΅ λ©”μ„λ“λ΅ λΉΌμ¤

- κΈ°μ΅΄ μ½”λ“ β΅οΈ memberService, orderServiceμ— `new MemoryMemberRepository()` μ¤‘λ³µμ΄ μκ³ , μ—­ν• μ— λ”°λ¥Έ κµ¬ν„μ΄ μ μ•λ³΄μ„ 
- λ¦¬ν©ν† λ§ β΅οΈ μ—­ν• κ³Ό κµ¬ν„ ν΄λμ¤λ¥Ό λ¶„λ¦¬ν•΄ μ• ν”λ¦¬μΌ€μ΄μ… μ „μ²΄ κµ¬μ„±μ΄ μ–΄λ–»κ² λμ–΄μλ”μ§€ λΉ λ¥΄κ² νμ•… κ°€λ¥

---
## μƒλ΅μ΄ κµ¬μ΅°μ™€ ν• μΈ μ •μ±… μ μ©
- `AppConfig` λ“±μ¥ β΅οΈ`μ‚¬μ©μμ—­`κ³Ό `κµ¬μ„±μμ—­`μΌλ΅ λ¶„λ¦¬λ¨
- OCP, DIP κ°μ²΄μ§€ν–¥ μ„¤κ³„ μ›μΉ™μ„ μ¤€μ? β­•
  - DIP : μ£Όλ¬Έ μ„λΉ„μ¤ ν΄λΌμ΄μ–ΈνΈλ” DiscountPolicy μΈν„°νμ΄μ¤μ—λ§ μμ΅΄, κµ¬μ²΄(κµ¬ν„) ν΄λμ¤λ” μ£Όμ…λ°›μ
  - OCP : κΈ°λ¥μ„ ν™•μ¥, λ³€κ²½μ‹ ν΄λΌμ΄μ–ΈνΈ μ½”λ“ μμ • λ¶ν•„μ”, AppConfigμ—μ„ λ¨λ‘ ν•΄κ²°