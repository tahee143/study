## λΉ„μ¦λ‹μ¤ μ”κµ¬μ‚¬ν•­κ³Ό μ„¤κ³„
- νμ›
	- νμ›μ€ κ°€μ…ν•κ³  μ΅°νν•  μ μμ
	- νμ›μ€ μΌλ°κ³Ό VIP λ‘ λ“±κΈ‰μ΄ μμ
	- νμ› λ°μ΄ν„°λ” μμ²΄ DBλ¥Ό κµ¬μ¶•ν•  μ μκ³ , μ™Έλ¶€ μ‹μ¤ν…κ³Ό μ—°λ™ν•  μ μμ(λ―Έν™•μ •)
- μ£Όλ¬Έκ³Ό ν• μΈ μ •μ±…
	- νμ›μ€ μƒν’μ„ μ£Όλ¬Έν•  μ μμ
	- νμ› λ“±κΈ‰μ— λ”°λΌ ν• μΈ μ •μ±…μ„ μ μ©ν•  μ μμ
	- ν• μΈ μ •μ±…μ€ λ¨λ“  VIPλ” 1000μ› ν• μΈν•΄μ£Όλ” κ³ μ • κΈμ•΅ ν• μΈ μ μ©(λ―Έν™•μ •)
	- ν• μΈ μ •μ±…μ€ λ³€κ²½ κ°€λ¥μ„±μ΄ λ†’μ

**ν™•μ •λμ§€ μ•μ€ μ”κµ¬μ‚¬ν•­μ„ μ„ν•΄ κ°μ²΄ μ§€ν–¥ μ„¤κ³„ λ°©λ²•μ„ μ μ©ν•μ—¬ μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤κ³  κµ¬ν„μ²΄λ¥Ό κ°μ•„λΌμΈ μ μλ„λ΅ μ„¤κ³„**

---

### νμ› λ„λ©”μΈ μ„¤κ³„μ λ¬Έμ μ 
- μ½”λ“ μ„¤κ³„μƒ λ¬Έμ μ ? 
- λ‹¤λ¥Έ μ €μ¥μ†λ΅ λ³€κ²½ μ‹ OCP μ›μΉ™ μ¤€μ?
- DIP μ§€ν‚¤κ³  μλ”μ§€?
- **μμ΅΄κ΄€κ³„κ°€ μΈν„°νμ΄μ¤ λΏλ§ μ•„λ‹λΌ κµ¬ν„κΉμ§€ λ¨λ‘ μμ΅΄ν•λ” λ¬Έμ μ μ΄ μλ‹¤**

  -> MemberServiceImplμ„ λ³΄λ©΄ μΈν„°νμ΄μ¤μ™€ κµ¬ν„μ²΄ λ¨λ‘ μμ΅΄

---

## μ£Όλ¬Έκ³Ό ν• μΈ λ„λ©”μΈ μ„¤κ³„
1. μ£Όλ¬Έ μƒμ„± : ν΄λΌμ΄μ–ΈνΈλ” μ£Όλ¬Έ μ„λΉ„μ¤μ— μ£Όλ¬Έ μƒμ„±μ„ μ”μ²­
2. νμ› μ΅°ν : ν• μΈμ„ μ„ν•΄μ„λ” νμ› λ“±κΈ‰ ν•„μ”, μ£Όλ¬Έ μ„λΉ„μ¤λ” νμ› μ €μ¥μ†μ—μ„ νμ› μ΅°ν
3. ν• μΈ μ μ© : μ£Όλ¬Έ μ„λΉ„μ¤λ” νμ› λ“±κΈ‰μ— λ”°λ¥Έ ν• μΈ μ—¬λ¶€λ¥Ό ν• μΈ μ •μ±…μ— μ„μ„
4. μ£Όλ¬Έ κ²°κ³Ό λ°ν™ : μ£Όλ¬Έ μ„λΉ„μ¤λ” ν• μΈ κ²°κ³Όλ¥Ό ν¬ν•¨ν• μ£Όλ¬Έ κ²°κ³Ό λ°ν™(μμ μ©μΌλ΅ λ‹¨μν™”ν•μ—¬ μ£Όλ¬Έ κ²°κ³Όλ§ λ°ν™)

μ—­ν• κ³Ό κµ¬ν„μ„ λ¶„λ¦¬

---

## μƒλ΅μ΄ ν• μΈ μ •μ±… κ°λ°
- κΈ°μ΅΄μ€ ν• μΈ κΈμ•΅μ„ 1000μ›μΌλ΅ κ³ μ •ν–μ§€λ§ μƒλ΅μ΄ ν• μΈ μ •μ±…μ€ μ£Όλ¬Έ κΈμ•΅λ‹Ή ν• μΈν•λ” μ •λ¥ % ν• μΈ

### μƒλ΅μ΄ ν• μΈ μ •μ±… μ μ©κ³Ό λ¬Έμ μ 
ν• μΈ μ •μ±…μ„ λ³€κ²½ν•κΈ° μ„ν•΄μ„  ν΄λΌμ΄μ–ΈνΈμΈ OrderServiceImpl μμ • ν•„μ”
- μ—­ν• κ³Ό κµ¬ν„μ„ λ¶„λ¦¬ β­•οΈ
- λ‹¤ν•μ„±λ„ ν™μ©ν•κ³  μΈν„°νμ΄μ¤μ™€ κµ¬ν„ κ°μ²΄λ¥Ό λ¶„λ¦¬ β­•οΈ
- OCP, DIP κ°μ²΄μ§€ν–¥ μ„¤κ³„ μ›μΉ™μ„ μ¤€μ? β
  - `prvate final DiscountPolicy discountPolicy = new FixDiscountPolicy();` β΅οΈ `private final DiscountPolicy discountPolicy = new RateDiscountPolicy();`
  - DIP : μ£Όλ¬Έ μ„λΉ„μ¤ ν΄λΌμ΄μ–ΈνΈλ” DiscountPolicy μΈν„°νμ΄μ¤μ— μμ΅΄ν•λ©΄μ„ DIP μ¤€μν• λ“― ν•μ§€λ§ μ¶”μƒ(μΈν„°νμ΄μ¤)λΏλ§ μ•„λ‹λΌ κµ¬μ²΄(κµ¬ν„) ν΄λμ¤μ—λ„ μμ΅΄ν•κ³  μμ
  - OCP : κΈ°λ¥μ„ ν™•μ¥ν•΄μ„ λ³€κ²½ν•λ©΄ ν΄λΌμ΄μ–ΈνΈ μ½”λ“ μμ •μ΄ ν•„μ”, κ³ μ •ν• μΈμ—μ„ μ •λ¥ ν• μΈμΌλ΅ λ³€κ²½ν•  λ• μ½”λ“ λ³€κ²½ ν•„μ”

### ν•΄κ²°λ°©μ•?
- κµ¬ν„μ²΄ μμ΅΄μ„ μ κ±°ν•κ³  μ¶”μƒμ—λ§ μμ΅΄ν•λ„λ΅ μ½”λ“ μμ • β΅οΈ `private DiscountPolicy discountPolicy;`
- μ‹¤ν–‰μ‹ NPE λ°μƒ
- π’΅ ν΄λΌμ΄μ–ΈνΈμ— **κµ¬ν„κ°μ²΄λ¥Ό λ€μ‹  μƒμ„±ν•κ³  μ£Όμ…ν•΄μ£Όλ” κ³Όμ •μ΄ ν•„μ”**

---

## κ΄€μ‹¬μ‚¬μ λ¶„λ¦¬
### AppConfig
- μ• ν”λ¦¬μΌ€μ΄μ…μ μ „μ²΄ λ™μ‘ λ°©μ‹μ„ κµ¬μ„±ν•κΈ° μ„ν•΄ **κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±**ν•κ³  **μ—°κ²°**ν•λ” μ±…μ„μ„ κ°€μ§€λ” λ³„λ„μ μ„¤μ • ν΄λμ¤
- AppConfigμ—μ„ μ‹¤μ  λ™μ‘μ— ν•„μ”ν• κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±, μƒμ„±ν• κ°μ²΄ μΈμ¤ν„΄μ¤μ μ°Έμ΅°λ¥Ό μƒμ„±μλ¥Ό ν†µν•΄ μ£Όμ…(μ—°κ²°)
  ``` java
	 public MemberService memberService(){
       return new MemberServiceImpl(new MemoryMemberRepository());
	 } // μƒμ„±μ μ£Όμ…
  ```
  - `MemberServiceImpl` β΅οΈ `MemoryMemberRepository`
  - `OrderServiceImpl` β΅οΈ `MemoryMemberRepository`, `FixDiscountPolicy`

### DIP μ™„μ„±, κ΄€μ‹¬μ‚¬ λ¶„λ¦¬
- DIP
  - ν΄λΌμ΄μ–ΈνΈλ” λ”μ΄μƒ κµ¬μ²΄ ν΄λμ¤μ— μμ΅΄ν•μ§€ μ•μ
  - ν΄λΌμ΄μ–ΈνΈλ” **μ¶”μƒλ§ μμ΅΄**ν•κ³  κµ¬μ²΄ ν΄λμ¤λ¥Ό λ°λΌλ„ λ¨
- κ΄€μ‹¬μ‚¬ λ¶„λ¦¬
  - κµ¬ν„ κ°μ²΄λ” μ™Έλ¶€(`AppConfig`)μ— μν•΄μ„ κ²°μ •
  - μμ΅΄κ΄€κ³„μ— λ€ν• κ³ λ―Όμ€ λ¨λ‘ μ™Έλ¶€μ—μ„ μ²λ¦¬λκ³  μ‹¤ν–‰μ—λ§ μ§‘μ¤‘
  - **κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ—°κ²°ν•λ” μ—­ν• **κ³Ό **μ‹¤ν–‰ν•λ” μ—­ν• **μ΄ λ…ν™•ν•κ² λ¶„λ¦¬

### μμ΅΄κ΄€κ³„ μ£Όμ… Dependency Injection, DI
- ν΄λΌμ΄μ–ΈνΈ μ…μ¥μ—μ„ μμ΅΄κ΄€κ³„λ¥Ό μ™Έλ¶€μ—μ„ μ£Όμ…

--- 

## AppConfig λ¦¬ν©ν„°λ§
```java
public MemberService memberService(){
    return new MemberServiceImpl(memberRepository());
}

private MemberRepository memberRepository() {
    return new MemoryMemberRepository();
} // memberRepository κµ¬ν„μ„ λ”°λ΅ λ©”μ„λ“λ΅ λΉΌμ¤
```
- κΈ°μ΅΄ μ½”λ“ β΅οΈ memberService, orderServiceμ— `new MemoryMemberRepository()` μ¤‘λ³µμ΄ μκ³ , μ—­ν• μ— λ”°λ¥Έ κµ¬ν„μ΄ μ μ•λ³΄μ„ 
- λ¦¬ν©ν† λ§ β΅οΈ μ—­ν• κ³Ό κµ¬ν„ ν΄λμ¤λ¥Ό λ¶„λ¦¬ν•΄ μ• ν”λ¦¬μΌ€μ΄μ… μ „μ²΄ κµ¬μ„±μ΄ μ–΄λ–»κ² λμ–΄μλ”μ§€ λΉ λ¥΄κ² νμ•… κ°€λ¥

---

## μƒλ΅μ΄ κµ¬μ΅°μ™€ ν• μΈ μ •μ±… μ μ©
- `AppConfig` λ“±μ¥ β΅οΈ`μ‚¬μ©μμ—­`κ³Ό `κµ¬μ„±μμ—­`μΌλ΅ λ¶„λ¦¬λ¨
- OCP, DIP κ°μ²΄μ§€ν–¥ μ„¤κ³„ μ›μΉ™μ„ μ¤€μ? β­•
  - DIP : μ£Όλ¬Έ μ„λΉ„μ¤ ν΄λΌμ΄μ–ΈνΈλ” DiscountPolicy μΈν„°νμ΄μ¤μ—λ§ μμ΅΄, κµ¬μ²΄(κµ¬ν„) ν΄λμ¤λ” μ£Όμ…λ°›μ
  - OCP : κΈ°λ¥μ„ ν™•μ¥, λ³€κ²½μ‹ ν΄λΌμ΄μ–ΈνΈ μ½”λ“ μμ • λ¶ν•„μ”, AppConfigμ—μ„ λ¨λ‘ ν•΄κ²°

---

## κ°μ²΄ μ§€ν–¥ μ„¤κ³„ μ›μΉ™ μ μ©
#### SRP λ‹¨μΌ μ±…μ„ μ›μΉ™
- ν΄λΌμ΄μ–ΈνΈ κ°μ²΄λ” μ§μ ‘ κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±, μ—°κ²°, μ‹¤ν–‰ν•λ” μ±…μ„μ„ κ°€μ§€κ³  μμ—μ
- AppConfigλ¥Ό μ΄μ©ν•΄ κ΄€μ‹¬μ‚¬ λ¶„λ¦¬
  - π‘‰κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ—°κ²°ν•λ” μ±…μ„μ„ AppConfigκ°€ λ‹΄λ‹Ή
  - π‘‰ν΄λΌμ΄μ–ΈνΈλ” κ°μ²΄λ¥Ό μ‹¤ν–‰ν•λ” μ±…μ„ λ‹΄λ‹Ή

#### DIP μμ΅΄κ΄€κ³„ μ—­μ „ μ›μΉ™
- ν• μΈ μ •μ±…μ„ λ³€κ²½ν•κΈ° μ„ν•΄μ„  ν΄λΌμ΄μ–ΈνΈ μ½”λ“ μμ •μ΄ ν•„μ”
- ν΄λΌμ΄μ–ΈνΈλ” μ¶”μƒν™” μΈν„°νμ΄μ¤μ™€ κµ¬μ²΄ν™” κµ¬ν„ ν΄λμ¤ λ¨λ‘ μμ΅΄
  - π‘‰ν΄λΌμ΄μ–ΈνΈλ” μ¶”μƒν™” μΈν„°νμ΄μ¤λ§ μμ΅΄ν•λ„λ΅ λ³€κ²½
  - π‘‰AppConfigκ°€ κ°μ²΄ μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•΄μ„ ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ— μμ΅΄κ΄€κ³„λ¥Ό μ£Όμ…

#### OCP κ°λ°©νμ‡„μ μ›μΉ™
- λ‹¤ν•μ„±μ„ μ‚¬μ©ν•κ³  ν΄λΌμ΄μ–ΈνΈκ°€ DIPλ¥Ό μ§€ν‚΄
- μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ‚¬μ© μμ—­κ³Ό κµ¬μ„± μμ—­μΌλ΅ λ‚λ”
- AppConfigκ°€ μμ΅΄ κ΄€κ³„λ¥Ό λ³€κ²½ν•΄λ„ ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ¥Ό λ³€κ²½ν•μ§€ μ•μ•„λ„ λ¨
  - π‘‰μ†ν”„νΈμ›¨μ–΄ μ”μ†λ¥Ό μƒλ΅­κ² ν™•μ¥ν•΄λ„ μ‚¬μ© μμ—­μ λ³€κ²½μ€ λ‹«ν€μλ‹¤

---

## IoC, DI, μ»¨ν…μ΄λ„
### μ μ–΄μ μ—­μ „ IoC(Inversion of Control)
- κΈ°μ΅΄μ—” ν΄λΌμ΄μ–ΈνΈ κµ¬ν„ κ°μ²΄κ°€ μ¤μ¤λ΅ ν•„μ”ν• μ„λ²„ κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±, μ—°κ²°, μ‹¤ν–‰ν•¨    
π‘‰κµ¬ν„ κ°μ²΄κ°€ ν”„λ΅κ·Έλ¨μ μ μ–΄ νλ¦„μ„ μ΅°μΆ…
- AppConfig λ“±μ¥μ΄ν›„ κµ¬ν„ κ°μ²΄λ” λ΅μ§λ§ μ‹¤ν–‰    
π‘‰ν”„λ΅κ·Έλ¨ μ μ–΄ νλ¦„ κ¶ν•μ€ AppConfigκ°€ κ°€μ§€κ³  μμ
- ν”„λ΅κ·Έλ¨μ μ μ–΄ νλ¦„μ„ μ§μ ‘ μ μ–΄ν•μ§€ μ•κ³  μ™Έλ¶€μ—μ„ κ΄€λ¦¬ν•λ” κ²ƒμ„ `μ μ–΄μ μ—­μ „ IoC`λΌκ³  ν•¨

    ##### π“ ν”„λ μ„μ›ν¬ vs λΌμ΄λΈλ¬λ¦¬
    - ν”„λ μ„μ›ν¬κ°€ μ½”λ“λ¥Ό μ μ–΄ν•κ³  λ€μ‹  μ‹¤ν–‰ν•λ©΄ `ν”„λ μ„μ›ν¬`
    - μ‘μ„±ν• μ½”λ“κ°€ μ§μ ‘ μ μ–΄μ νλ¦„μ„ λ‹΄λ‹Ήν•λ©΄ `λΌμ΄λΈλ¬λ¦¬`

### μμ΅΄κ΄€κ³„ μ£Όμ… DI(Dependency injection)
#### π“μ •μ μΈ ν΄λμ¤ μμ΅΄κ΄€κ³„
- import μ½”λ“λ΅ μμ΅΄κ΄€κ³„λ¥Ό μ‰½κ² νμ•… κ°€λ¥
- μ• ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰μ—†μ΄ λ¶„μ„ κ°€λ¥

#### π“λ™μ μΈ κ°μ²΄ μΈμ¤ν„΄μ¤ μμ΅΄κ΄€κ³„
- μ‹¤ν–‰ μ‹μ (λ°νƒ€μ„)μ— μ™Έλ¶€μ—μ„ μ‹¤μ  κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±, ν΄λΌμ΄μ–ΈνΈμ— κµ¬ν„ν• κ°μ²΄ μΈμ¤ν„΄μ¤ μ°Έμ΅°κ°’ μ „λ‹¬, ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„μ μ‹¤μ  μμ΅΄κ΄€κ³„ μ—°κ²°λλ” κ²ƒ `μμ΅΄κ΄€κ³„ μ£Όμ…`

#### π“μμ΅΄κ΄€κ³„ μ£Όμ… μ¥μ 
- ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ¥Ό λ³€κ²½ν•μ§€ μ•κ³  ν΄λΌμ΄μ–ΈνΈκ°€ νΈμ¶ν•λ” λ€μƒμ νƒ€μ… μΈμ¤ν„΄μ¤ λ³€κ²½ κ°€λ¥
- μ •μ μΈ ν΄λμ¤ μμ΅΄κ΄€κ³„λ¥Ό λ³€κ²½ν•μ§€ μ•κ³  λ™μ μΈ κ°μ²΄ μΈμ¤ν„΄μ¤ μμ΅΄κ΄€κ³„λ¥Ό μ‰½κ² λ³€κ²½ν•  μ μμ

### IoC μ»¨ν…μ΄λ„, DI μ»¨ν…μ΄λ„
- AppConfigμ²λΌ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  κ΄€λ¦¬ν•λ©΄μ„ μμ΅΄κ΄€κ³„λ¥Ό μ—°κ²°ν•΄μ£Όλ” κ²ƒμ„ `IoC μ»¨ν…μ΄λ„` λλ” `DI μ»¨ν…μ΄λ„`
- μμ΅΄κ΄€κ³„ μ£Όμ…μ— μ΄μ μ„ λ§μ¶° μ£Όλ΅ `DI μ»¨ν…μ΄λ„`λΌκ³  ν•¨

---

## μ¤ν”„λ§μΌλ΅ μ „ν™ν•κΈ°
### μ¤ν”„λ§ μ»¨ν…μ΄λ„
- `ApplicationContext` == μ¤ν”„λ§ μ»¨ν…μ΄λ„
- κΈ°μ΅΄μ—” AppConfigλ¥Ό μ‚¬μ©ν•΄ μ§μ ‘ κ°μ²΄ μƒμ„±ν•κ³  DI ν–μ§€λ§ μ΄μ λ” μ¤ν”„λ§ μ»¨ν…μ΄λ„λ¥Ό μ΄μ©
- μ¤ν”„λ§ μ»¨ν…μ΄λ„λ” `@Configuration` λ¶™μ€ `AppConfig`λ¥Ό κµ¬μ„±μ •λ³΄λ΅ μ‚¬μ©
- `AppConfig`μ— `@Bean` λ¶™μ€ λ©”μ„λ“λ¥Ό λ¨λ‘ νΈμ¶ν•΄ λ°ν™λ κ°μ²΄λ¥Ό μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— λ“±λ΅
- μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— λ“±λ΅λ κ°μ²΄κ°€ `μ¤ν”„λ§ λΉ`
- `@Bean` λ¶™μ€ λ©”μ„λ“μ λ…μ„ μ¤ν”„λ§ λΉ μ΄λ¦„μΌλ΅ μ‚¬μ©
- μ΄μ „μ—λ” ν•„μ”ν• κ°μ²΄λ¥Ό `AppConfig`λ¥Ό μ΄μ©ν•΄ μ§μ ‘ μ΅°νν–μ§€λ§ μ΄μ   μ¤ν”„λ§ μ»¨ν…μ΄λ„λ¥Ό ν†µν•΄ μ¤ν”„λ§ λΉ(κ°μ²΄)λ¥Ό μ°Ύμ
- μ¤ν”„λ§ λΉμ€ `applicationContxt.getbean()`λ©”μ„λ“λ¥Ό μ΄μ©ν•΄ μ°Ύμ„ μ μμ
#### μ¤ν”„λ§ μ»¨ν…μ΄λ„ μ‚¬μ© μμ‹ μ½”λ“
```java
// AppConfig
@Configuration
public class AppConfig {
    @Bean
    public MemberService memberService() { return new MemberServiceImpl(memberRepository()); }
}

// μ¤ν”„λ§ λΉ μ‚¬μ© μ½”λ“
ApplicationContext applicationContext = new AnnotationConfigApplicationContext(AppConfig.class);
MemberService memberService = applicationContext.getBean("memberService", MemberService.class);
```

---

## μ¤ν”„λ§ μ»¨ν…μ΄λ„ μƒμ„±
### μ¤ν”„λ§ μ»¨ν…μ΄λ„?
- μ¤ν”„λ§ μ»¨ν…μ΄λ„λ” `BeanFactory`μ™€ `ApplicationContext`λ΅ κµ¬λ¶„
- `BeanFactory`λ¥Ό μ§μ ‘ μ‚¬μ©ν•λ” κ²½μ°λ” κ±°μ μ—†μ, μΌλ°μ μΌλ΅ `ApplicationContext`μ¤ν”„λ§ μ»¨ν…μ΄λ„λΌ ν•¨
- μ¤ν”„λ§ μ»¨ν…μ΄λ„λ” `XMLκΈ°λ°` λλ” `μ• λ…Έν…μ΄μ… κΈ°λ°μ μλ°” μ„¤μ • ν΄λμ¤`λ΅ μƒμ„± κ°€λ¥
- AppConfigλ¥Ό μ‚¬μ©ν•΄ μƒμ„±ν• λ°©μ‹μ΄ μ• λ…Έν…μ΄μ… κΈ°λ°μ μλ°” μ„¤μ • ν΄λμ¤λ΅ μƒμ„±ν• κ²ƒ

#### μ¤ν”„λ§ μ»¨ν…μ΄λ„ μƒμ„± μμ  μ½”λ“
```java
// μ¤ν”„λ§ μ»¨ν…μ΄λ„ μƒμ„±
ApplicationContext applicationContext = 
        new AnnotationConfigApplicationContext(AppConfig.class);
```
- `ApplicationContext`λ” μΈν„°νμ΄μ¤
- `AnnotationConfigApplicationContext` ν΄λμ¤λ” `ApplicationContext` μΈν„°νμ΄μ¤ κµ¬ν„μ²΄μ„

### μ¤ν”„λ§ μ»¨ν…μ΄λ„ μƒμ„± κ³Όμ •
1. μ¤ν”„λ§ μ»¨ν…μ΄λ„ μƒμ„±
   - μ¤ν”„λ§ μ»¨ν…μ΄λ„λ” κµ¬μ„± μ •λ³΄ μ§€μ • ν•„μ”, κµ¬μ„± μ •λ³΄(`AppConfig`)λ¥Ό λ§¤κ°λ³€μλ΅ λ„κ²¨μ¤
   - `new AnnotationConfigApplicationContext(AppConfig.class)`λ¥Ό ν†µν•΄ μ»¨ν…μ΄λ„ μƒμ„±
2. μ¤ν”„λ§ λΉ λ“±λ΅
   - λ§¤κ°λ³€μλ΅ λ°›μ€ κµ¬μ„± ν΄λμ¤ μ •λ³΄λ¥Ό μ‚¬μ©ν•΄ μ¤ν”„λ§ λΉ λ“±λ΅ 
     - `@Bean` λ¶™μ€ λ©”μ„λ“ λ¨λ‘ νΈμ¶
     - μ¤ν”„λ§ λΉ μ €μ¥μ†μ— λ©”μ„λ“ λ…μ„ λΉ μ΄λ¦„μΌλ΅ λ°ν™λ κ°μ²΄ λΉ κ°μ²΄λ΅ λ“±λ΅
   - λΉ μ΄λ¦„μ€ μ§μ ‘ λ¶€μ—¬ν•  μ μμ§€λ§ μΌλ°μ μΌλ΅ λ©”μ„λ“ μ΄λ¦„μ„ μ‚¬μ©
   - `λΉ μ΄λ¦„λΌλ¦¬ μ¤‘λ³µβ` (λ‹¤λ¥Έ λΉμ΄ λ¬΄μ‹ λλ” κΈ°μ΅΄ λΉμ„ λ®μ–΄λ²„λ¦¬κ±°λ‚ μ¤λ¥ λ°μƒ)
3. μ¤ν”„λ§ λΉ μμ΅΄κ΄€κ³„ μ„¤μ •
   - μ¤ν”„λ§ μ»¨ν…μ΄λ„ν‹‘ κµ¬μ„± μ •λ³΄λ¥Ό μ°Έκ³ ν•΄ μμ΅΄κ΄€κ³„λ¥Ό μ£Όμ…(DI)

---

## μ»¨ν…μ΄λ„μ— λ“±λ΅λ λ¨λ“  λΉ μ΅°ν
### λ¨λ“  λΉ μ¶λ ¥ν•κΈ°
- `ac.getBeanDefinitionNames()` : μ¤ν”„λ§μ— λ“±λ΅λ λ¨λ“  λΉμ„ μ΅°ν
- `ac.getBean()` : λΉ μ΄λ¦„μΌλ΅ λΉ κ°μ²΄(μΈμ¤ν„΄μ¤) μ΅°ν
### μ• ν”λ¦¬μΌ€μ΄μ… λΉ μ¶λ ¥ν•κΈ°
- μ¤ν”„λ§μ΄ λ‚΄λ¶€μ—μ„ μ‚¬μ©ν•λ” λΉ μ μ™Έν•κ³  μ‚¬μ©μκ°€ μ •μν• λΉλ§ μ¶λ ¥
- μ‚¬μ©μκ°€ μ •μν• λΉμ€ `ac.getRole()`λ΅ κµ¬λ¶„ν•΄ μ¶λ ¥ν•  μ μμ
  - `ROLE_APPLICATION` : μ§μ ‘ λ“±λ΅ν• μ• ν”λ¦¬μΌ€μ΄μ… λΉ
  - `ROLE_INFRASTRUCTURE` : μ¤ν”„λ§μ΄ λ‚΄λ¶€μ—μ„ μ‚¬μ©ν•λ” λΉ

---

## μ¤ν”„λ§ λΉ μ΅°ν
### κΈ°λ³Έμ μΈ μ΅°ν λ°©λ²•
- `ac.getBean(λΉμ΄λ¦„, νƒ€μ…)`
- `ac.getBean(νƒ€μ…)`
- μ΅°ν λ€μƒμ΄ μ—†μΌλ©΄ μμ™Έ λ°μƒ `NoSuchBeanDefinitionException`

### λ™μΌν• νƒ€μ…μ΄ λ‘ μ΄μƒ
- `ac.getBeansOfType()` : ν•΄λ‹Ή νƒ€μ…μ λ¨λ“  λΉ μ΅°ν
- κ°™μ€ νƒ€μ…μ μ¤ν”„λ§ λΉμ΄ λ‘ μ΄μƒμ΄λ©΄ `NoUniqueBeanDefinitionException` μμ™Έ λ°μƒ 
  - κ°™μ€ νƒ€μ…μ λΉμ΄ λ‘ μ΄μƒμ΄λ©΄ λΉ μ΄λ¦„μ„ μ§€μ •ν•΄ μ°Ύμ

### μƒμ† κ΄€κ³„
- λΉμ΄ μƒμ†κ΄€κ³„λ¥Ό κ°€μ§€κ³  μμ„λ• λ¶€λ¨ νƒ€μ…μΌλ΅ μ΅°νν•λ©΄ μμ‹ νƒ€μ…λ„ ν•¨κ» μ΅°ν
  - μλ°” κ°μ²΄μ μµκ³  λ¶€λ¨μΈ `Object` νƒ€μ…μΌλ΅ μ΅°νν•λ©΄ λ¨λ“  μ¤ν”„λ§ λΉμ„ μ΅°νν•  μ μμ

---

## BeanFactoryμ™€ ApplicationContext
### BeanFactory
- μ¤ν”„λ§ μ»¨ν…μ΄λ„μ μµμƒμ„ μΈν„°νμ΄μ¤
- μ¤ν”„λ§ λΉμ„ κ΄€λ¦¬ν•κ³  μ΅°νν•λ” μ—­ν•  λ‹΄λ‹Ή
- `getBean()` μ κ³µ
- μ‚¬μ©ν–λ λ€λ¶€λ¶„μ κΈ°λ¥μ€ BeanFactoryκ°€ μ κ³µν•λ” κΈ°λ¥
- μ§μ ‘ μ‚¬μ©ν•λ” μΌμ€ κ±°μ μ—†κ³  λ¶€κ°€ κΈ°λ¥μ΄ ν¬ν•¨λ ApplicationContextλ¥Ό μ£Όλ΅ μ‚¬μ©

### ApplicationContext
```java
public interface ApplicationContext extends EnvironmentCapable, ListableBeanFactory, HierarchicalBeanFactory,
MessageSource, ApplicationEventPublisher, ResourcePatternResolver { }
```
- BeanFactory κΈ°λ¥μ„ λ¨λ‘ μƒμ†λ°›μ•„ μ κ³µ
- ApplicationContextλ” λΉ κ΄€λ¦¬κΈ°λ¥ + νΈλ¦¬ν• λ¶€κ°€ κΈ°λ¥
  - `MessageSource` : λ©”μ‹μ§€μ†μ¤λ¥Ό ν™μ©ν• κµ­μ ν™” κ°€λ¥
  - `EnvironmentCapable` ν™κ²½λ³€μ : λ΅μ»¬, κ°λ°, μ΄μ λ“±μ„ κµ¬λ¶„ν•΄μ„ μ²λ¦¬
  - `ApplicationEventPublisher` μ• ν”λ¦¬μΌ€μ΄μ… μ΄λ²¤νΈ : μ΄λ²¤νΈ λ°ν–‰ν•κ³  κµ¬λ…ν•λ” λ¨λΈμ„ νΈλ¦¬ν•κ² μ§€μ›
  - `ResourceLoader` νΈλ¦¬ν• λ¦¬μ†μ¤ μ΅°ν : νμΌ, ν΄λμ¤ ν¨μ¤, μ™Έλ¶€ λ“±μ—μ„ νΈλ¦¬ν•κ² μ΅°ν 
  
--- 

## μ¤ν”„λ§ μ»¨ν…μ΄λ„ XML μ„¤μ •μ •λ³΄ λ§λ“¤κΈ°
- μ¤ν”„λ§ μ»¨ν…μ΄λ„λ” λ‹¤μ–‘ν• ν•μ‹ μ„¤μ • μ •λ³΄λ¥Ό μ‚¬μ©ν•  μ μκ² μ μ—°ν•κ² μ„¤κ³„
  - μλ°”μ½”λ“, XML, Groovy λ“±
  
#### μ• λ…Έν…μ΄μ… κΈ°λ° μλ°” μ½”λ“ μ„¤μ •
- `new AnnotationConfigApplicationContext(AppConfig.class)`
- `AnnotationConfigApplicationContext` ν΄λμ¤ μ‚¬μ©ν•λ©΄μ„ μλ°” μ½”λ“λ΅λ μ„¤μ • μ •λ³΄λ¥Ό λ„κΉ€

#### XML μ„¤μ • μ‚¬μ©
- μ»΄νμΌ μ—†μ΄ λΉ μ„¤μ • μ •λ³΄ λ³€κ²½ κ°€λ¥
- μ¤ν”„λ§ λ¶€νΈλ¥Ό λ§μ΄ μ‚¬μ©ν•λ©΄μ„ XML κΈ°λ° μ„¤μ •μ„ μ μ‚¬μ©ν•μ§€ μ•μ
- `GenericXmlApplicationContext` ν΄λμ¤λ¥Ό μ‚¬μ©ν•λ©΄μ„ XML μ„¤μ • νμΌμ„ λ„κΉ€

---

## BeanDefinition
- `BeanDefinition` : λΉ μ„¤μ • λ©”νƒ€μ •λ³΄
- `BeanDefinition` μ΄λΌλ” μ¶”μƒν™”λ¥Ό ν†µν•΄ μ¤ν”„λ§μ΄ λ‹¤μ–‘ν• μ„¤μ • ν•μ‹μ„ μ§€μ›ν•  μ μκ²ν•¨
  - `@Bean`, `<bean>`λ‹Ή κ°κ° ν•λ‚μ”© λ©”νƒ€ μ •λ³΄λ¥Ό μƒμ„±
  - XMLμ„ μ½μ–΄ BeanDefinitionμ„ λ§λ“¤κ±°λ‚, μλ°” μ½”λ“λ¥Ό μ½μ–΄ BeanDefinitionμ„ λ§λ“¦
- μ¤ν”„λ§ μ»¨ν…μ΄λ„λ” λ©”νƒ€μ •λ³΄λ¥Ό κΈ°λ°μΌλ΅ μ¤ν”„λ§ λΉμ„ μƒμ„±

#### μ½”λ“λ λ²¨λ΅ μμ„Έν μ‚΄ν΄λ³΄κΈ°
- `AnnotationConfigApplicationContext`λ” `AnnotateBeanDefinitionReader`λ¥Ό μ‚¬μ©ν•΄ `AppConfig.class`λ¥Ό μ½κ³  `BeanDefinition`μ„ μƒμ„±
- `GenericXmlApplicationContext`λ” `XmlBeanDefinitionReader`λ¥Ό μ‚¬μ©ν•΄ `appConfig.xml`μ„ μ½κ³  `BeanDefinition`μ„ μƒμ„±
- μƒλ΅μ΄ ν•μ‹μ μ„¤μ • μ •λ³΄κ°€ μ¶”κ°€λλ©΄ `XxxBeanDefinitionReader`λ¥Ό λ§λ“¤μ–΄ `BeanDefinition`μ„ μƒμ„±

### BeanDefinition μ‚΄ν΄λ³΄κΈ°
- `BeanClassName` : μƒμ„±ν•  λΉμ ν΄λμ¤λ… (μλ°” μ„¤μ •μ²λΌ ν©ν† λ¦¬ μ—­ν• μ λΉμ„ μ‚¬μ©ν•λ©΄ μ—†μ)
- `factoryBeanName` : ν©ν† λ¦¬ μ—­ν• μ λΉμ„ μ‚¬μ©ν•  κ²½μ° (appConfig)
- `factoryMethodName` : λΉμ„ μƒμ„±ν•  ν©ν† λ¦¬ λ©”μ„λ“ μ§€μ • (memberService)
- `Scope` : μ‹±κΈ€ν†¤(κΈ°λ³Έκ°’)
- `lazyInit` : μ¤ν”„λ§ μ»¨ν…μ΄λ„λ¥Ό μƒμ„±ν•  λ• λΉμ„ μƒμ„±ν•λ” κ²ƒμ΄ μ•„λ‹λΌ, μ‹¤μ  λΉμ„ μ‚¬μ©ν•  λ•κΉμ§€ μµλ€ν• μƒμ„±μ΄ μ§€μ—°μ²λ¦¬ν•λ”μ§€ μ—¬λ¶€
- `IniteMethodName` : λΉμ„ μƒμ„±ν•κ³  μμ΅΄κ΄€κ³„λ¥Ό μ μ©ν• λ’¤μ— νΈμ¶λλ” μ΄κΈ°ν™” λ©”μ„λ“ λ…
- `DestroyMethodName` : λΉμ μƒλ…μ£ΌκΈ°κ°€ λλ‚μ„ μ κ±°ν•κΈ° μ§μ „μ— νΈμ¶λλ” λ©”μ„λ“ λ…
- `Constructor arguments, Properties` : μμ΅΄κ΄€κ³„ μ£Όμ…μ—μ„ μ‚¬μ© (μλ°” μ„¤μ •μ²λΌ ν©ν† λ¦¬ μ—­ν• μ λΉμ„ μ‚¬μ©ν•λ©΄ μ—†μ)

---

## μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…κ³Ό μ‹±κΈ€ν†¤
- μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ€ λ³΄ν†µ μ—¬λ¬ κ³ κ°μ΄ λ™μ‹μ— μ”μ²­
- ν„μ¬ μ¤ν”„λ§μ—†λ” μμν• DI μ»¨ν…μ΄λ„ AppConfigλ” μ”μ²­μ΄ μ¬ λ•λ§λ‹¤ λ§¤λ² μƒλ΅μ΄ κ°μ²΄λ¥Ό μƒμ„±
- λ§¤λ² μƒλ΅μ΄ κ°μ²΄λ¥Ό μƒμ„±ν•λ©΄ λ©”λ¨λ¦¬ λ‚­λΉ„κ°€ μ‹¬ν•¨
- ν•΄λ‹Ή κ°μ²΄λ¥Ό 1κ°λ§ μƒμ„±ν•κ³  κ³µμ ν•λ„λ΅ μ„¤κ³„ π‘‰`μ‹±κΈ€ν†¤ ν¨ν„΄`

---

## μ‹±κΈ€ν†¤ ν¨ν„΄
- ν΄λμ¤μ μΈμ¤ν„΄μ¤κ°€ λ”± 1κ°λ§ μƒμ„±λλ” κ²ƒμ„ λ³΄μ¥ν•λ” λ””μμΈ ν¨ν„΄

#### μ‹±κΈ€ν†¤ μμ 
- κµ¬ν„λ°©λ²•μ€ μ—¬λ¬κ°€μ§€κ°€ μμ§€λ§ κ°μ²΄λ¥Ό λ―Έλ¦¬ μƒμ„±ν•΄λ‘λ” κ°€μ¥ λ‹¨μν•κ³  μ•μ „ν• λ°©λ²•μΌλ΅ μμ‹
```java
public class SingletonService {

    // static μμ—­μ— μΈμ¤ν„΄μ¤ μƒμ„±
    private static final SingletonService instance = new SingletonService();

    // κ°μ²΄ μΈμ¤ν„΄μ¤κ°€ ν•„μ”ν•λ©΄ μ΄ static λ©”μ„λ“λ¥Ό ν†µν•΄μ„λ§ μ΅°νν•λ„λ΅ ν—μ©
    public static SingletonService getInstance() {
        return instance;
    }

    // private μƒμ„±μν†µν•΄ μ™Έλ¶€μ—μ„ κ°μ²΄ μƒμ„±μ„ λ§‰μ
    private SingletonService() {
    }
}
```
1. static μμ—­μ— κ°μ²΄ instanceλ¥Ό ν•λ‚ μƒμ„±ν•΄ μ¬λ ¤λ‘”λ‹¤
2. κ°μ²΄ μΈμ¤ν„΄μ¤λ¥Ό μ‚¬μ©ν• λ• `getInstance()`λ©”μ„λ“λ¥Ό ν†µν•΄μ„λ§ μ΅°νκ°€λ¥, μ΄ λ©”μ„λ“λ” ν•­μƒ κ°™μ€ instance λ°ν™
3. 1κ°μ κ°μ²΄ μΈμ¤ν„΄μ¤λ§ μ΅΄μ¬ν•κΈ° μ„ν•΄ μƒμ„±μλ¥Ό `private`μΌλ΅ λ§‰μ•„ μ™Έλ¶€μ—μ„ `new` ν‚¤μ›λ“ κ°μ²΄ μƒμ„±μ„ λ§‰μ

### μ‹±κΈ€ν†¤ ν¨ν„΄ λ¬Έμ μ 
- μ‹±κΈ€ν†¤ ν¨ν„΄μ„ κµ¬ν„ν•λ” μ½”λ“ μμ²΄κ°€ λ§μ΄ λ“¤μ–΄κ°
- μμ΅΄κ΄€κ³„μƒ ν΄λΌμ΄μ–ΈνΈκ°€ κµ¬μ²΄ ν΄λμ¤μ— μμ΅΄ π‘‰DIP μ„λ°
- ν΄λΌμ΄μ–ΈνΈκ°€ κµ¬μ²΄ κΈ€λμ¤μ— μμ΅΄ν•΄μ„ OCP μ„λ° κ°€λ¥μ„±μ΄ λ†’μ
- ν…μ¤νΈ μ–΄λ ¤μ›€
- λ‚΄λ¶€ μ†μ„±μ„ λ³€κ²½ν•κ±°λ‚ μ΄κΈ°ν™” μ–΄λ ¤μ›€
- private μƒμ„±μλ΅ μμ‹ ν΄λμ¤ μƒμ„± μ–΄λ ¤μ›€
- κ²°λ΅ μ μΌλ΅ μ μ—°μ„±μ΄ λ–¨μ–΄μ§
- μ•ν‹°ν¨ν„΄μΌλ΅ λ¶λ¦¬κΈ°λ„ ν•¨

---

## μ‹±κΈ€ν†¤ μ»¨ν…μ΄λ„
- μ¤ν”„λ§ μ»¨ν…μ΄λ„λ” μ‹±κΈ€ν†¤ ν¨ν„΄μ λ¬Έμ μ μ„ ν•΄κ²°ν•λ©΄μ„ κ°μ²΄ μΈμ¤ν„΄μ¤λ¥Ό μ‹±κΈ€ν†¤μΌλ΅ κ΄€λ¦¬ν•¨
- μ¤ν”„λ§ λΉμ΄ μ‹±κΈ€ν†¤μΌλ΅ κ΄€λ¦¬λλ” λΉ

### μ‹±κΈ€ν†¤ μ»¨ν…μ΄λ„
- μ¤ν”„λ§ μ»¨ν…μ΄λ„λ” μ‹±κΈ€ν†¤ μ»¨ν…μ΄λ„ μ—­ν• μ„ ν•¨, μ‹±κΈ€ν†¤ ν¨ν„΄μ„ μ μ©ν•μ§€ μ•μ•„λ„ μ‹±κΈ€ν†¤μΌλ΅ κ΄€λ¦¬ν•¨
  - μ‹±κΈ€ν†¤ ν¨ν„΄μ„ μ„ν• μ½”λ“κ°€ λ“¤μ–΄κ°€μ§€ μ•μ
  - DIP, OCP, ν…μ¤νΈ, private μƒμ„±μλ΅λ¶€ν„° μμ λ΅­κ² μ‹±κΈ€ν†¤ μ‚¬μ© κ°€λ¥
- μ‹±κΈ€ν†¤ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  κ΄€λ¦¬ν•λ” κΈ°λ¥μ„ `μ‹±κΈ€ν†¤ λ μ§€μ¤νΈλ¦¬`λΌκ³  ν•¨
- μ¤ν”„λ§μ κΈ°λ³Έ λΉ λ“±λ΅ λ°©μ‹μ€ μ‹±κΈ€ν†¤μ΄μ§€λ§ μ”μ²­ν•  λ•λ§λ‹¤ μƒλ΅μ΄ κ°μ²΄ λ°ν™ κΈ°λ¥λ„ μ κ³µν•¨

---

## μ‹±κΈ€ν†¤ λ°©μ‹μ μ£Όμμ 
- μ‹±κΈ€ν†¤ λ°©μ‹μ€ μ—¬λ¬ ν΄λΌμ΄μ–ΈνΈκ°€ ν•λ‚μ κ°™μ€ κ°μ²΄ μΈμ¤ν„΄μ¤λ¥Ό κ³µμ ν•κΈ° λ•λ¬Έμ— μ‹±κΈ€ν†¤ κ°μ²΄λ” μƒνƒλ¥Ό μ μ§€(stateful)ν•κ² μ„¤κ³„ν•λ©΄ μ•λ¨
- `λ¬΄μƒνƒ stateless`ν•κ² μ„¤κ³„ν•΄μ•Όν•¨
  - νΉμ • ν΄λΌμ΄μ–ΈνΈμ— μμ΅΄μ μΈ ν•„λ“κ°€ μμΌλ©΄ μ•λ¨
  - νΉμ • ν΄λΌμ΄μ–ΈνΈκ°€ κ°’μ„ λ³€κ²½ν•  μ μλ” ν•„λ“κ°€ μμΌλ©΄ μ•λ¨
  - κ°€κΈ‰μ  μ½κΈ°λ§ κ°€λ¥ν•΄μ•Ό ν•¨
  - ν•„λ“ λ€μ‹ μ— μλ°”μ—μ„ κ³µμ λμ§€ μ•λ” μ§€μ—­λ³€μ, νλΌλ―Έν„°, ThreadLocal λ“±μ„ μ‚¬μ©ν•΄μ•Ό ν•¨
- μ¤ν”„λ§ λΉ(μ‹±κΈ€ν†¤ λΉ)μ ν•„λ“μ— κ³µμ κ°’μ„ μ„¤μ •ν•λ©΄ ν° μ¥μ•  λ°μƒν•  μ μμ

#### μƒνƒλ¥Ό μ μ§€ν•  κ²½μ° λ°μƒν•λ” λ¬Έμ μ  μμ‹
```java
public class StatefulService {

    private int price; // κ³µμ λλ” ν•„λ“

    public void order(String name, int price) {
        System.out.println("name = " + name + " price = " + price);
        this.price = price; // μ—¬κΈ°κ°€ λ¬Έμ  π’΅νΉμ • ν΄λΌμ΄μ–ΈνΈκ°€ κ°’μ„ λ³€κ²½
    }

    public int getPrice() {
        return price;
    }
}
```

---

## @Configurationκ³Ό μ‹±κΈ€ν†¤
- memberService λΉμ„ μƒμ„±ν•λ” μ½”λ“λ¥Ό λ³΄λ©΄ `memberRepository()` νΈμ¶
  - `new MemmoryMemberRepository()`κ°€ νΈμ¶
- orderService λΉμ„ μƒμ„±ν•λ” μ½”λ“λ„ λ™μΌν•κ² `memberRepository()` νΈμ¶
  - `new MemmoryMemberRepository()`κ°€ νΈμ¶
- `MemmoryMemberRepository`κ°€ 2κ° μƒμ„±λλ©΄μ„ μ‹±κΈ€ν†¤μ΄ κΉ¨μ§€λ” κ²ƒμ²λΌ λ³΄μ„
- ν…μ¤νΈμ½”λ“λ΅ κ²€μ¦ν•΄λ³΄λ©΄ μ‹±κΈ€ν†¤μ΄ μ μ§€λ¨ -> μ¤ν”„λ§ μ»¨ν…μ΄λ„κ°€ ν•΄κ²°

---

## @Configurationκ³Ό λ°”μ΄νΈμ½”λ“ μ΅°μ‘μ λ§λ²•
- μ¤ν”„λ§ μ»¨ν…μ΄λ„λ” μ‹±κΈ€ν†¤ λ μ§€μ¤νΈλ¦¬, μ¤ν”„λ§ λΉμ΄ μ‹±κΈ€ν†¤μ΄ λλ„λ΅ λ³΄μ¥ν•΄μ¤μ•Όν•¨
- μ‹±κΈ€ν†¤μ„ λ³΄μ¥ν•κΈ° μ„ν•΄ μ¤ν”„λ§ ν΄λμ¤μ λ°”μ΄νΈμ½”λ“λ¥Ό μ΅°μ‘ν•λ” λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‚¬μ©

#### appConfig ν΄λμ¤ μ •λ³΄ ν™•μΈ
```java
AppConfig appConfig = ac.getBean(AppConfig.class);
// μ¶λ ¥ κ²°κ³Ό : class hello.core.AppConfig$$SpringCGLIB$$0
```
- `AnnotationConfigApplicationContext` νλΌλ―Έν„°λ΅ λ„κΈ΄ μ„¤μ • μ •λ³΄ `AppConfig`λ„ λΉμΌλ΅ λ“±λ΅λ¨
- μμν• ν΄λμ¤λΌλ©΄ `class hello.core.AppConfig`λΌκ³  μ¶λ ¥λ¨
- κ²°κ³Όλ” `class hello.core.AppConfig$$SpringCGLIB$$0`
- μ¤ν”„λ§μ΄ `CGLIB`λΌλ” λ°”μ΄νΈμ½”λ“ μ΅°μ‘ λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‚¬μ©ν•΄μ„ **AppConfig ν΄λμ¤λ¥Ό μƒμ†λ°›μ€ μ„μμ λ‹¤λ¥Έ ν΄λμ¤λ¥Ό μƒμ„±**ν•κ³  λΉμΌλ΅ λ“±λ΅ν•¨
  - AppConfig@CGLIBλ” AppConfigμ μμ‹ νƒ€μ…μΌλ΅ AppConfig νƒ€μ…μΌλ΅ μ΅°ν κ°€λ¥
- μ΄ μ„μμ ν΄λμ¤κ°€ μ‹±κΈ€ν†¤μ„ λ³΄μ¥


##### AppConfig@CGLIB μμƒ μ½”λ“

```java
@Bean
public MemberRepository memberRepository() {
    if(memoryMemberRepository μ΄λ―Έ μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— λ“±λ΅?){
        return μ¤ν”„λ§ μ»¨ν…μ΄λ„μ—μ„ μ°Ύμ•„μ„ λ°ν™
    } else {
        κΈ°μ΅΄ λ΅μ§ νΈμ¶ MemoryMemberRepository μƒμ„± ν›„ μ¤ν”„λ§ μ»¨ν…μ΄λ„ λ“±λ΅
        return λ°ν™
    }
}
```
- @Beanμ΄ λ¶™μ€ λ©”μ„λ“λ§λ‹¤ μ¤ν”„λ§ λΉμ΄ μ΅΄μ¬ν•λ©΄ μ΅΄μ¬ν•λ” λΉ λ°ν™, μ—†μΌλ©΄ μƒμ„± ν›„ μ¤ν”„λ§ λΉμ— λ“±λ΅ν•μ—¬ λ°ν™ν•λ” μ½”λ“κ°€ λ™μ μΌλ΅ μƒμ„±
- μ‹±κΈ€ν†¤μ„ λ³΄μ¥ν•΄μ¤

#### @Configuration μ—†μ΄ @Beanλ§ μ μ©ν•λ©΄?
- μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅μ€ λμ§€λ§ μ‹±κΈ€ν†¤μ„ λ³΄μ¥ν•μ§€ μ•μ

---

## μ»΄ν¬λ„νΈ μ¤μΊ”κ³Ό μμ΅΄κ΄€κ³„ μλ™μ£Όμ… μ‹μ‘
- μ„¤μ •ν•΄μ•Όν•  λΉμ κ°―μκ°€ λμ–΄λ‚λ©΄ μ„¤μ • μ •λ³΄λ¥Ό μ‘μ„±ν•λ” κ²ƒλ„ μ–΄λ ¤μ›μ§(λ„λ½, λ°λ³µ λ“±)
- κ·Έλμ„ μ¤ν”„λ§μ€ μ„¤μ • μ •λ³΄κ°€ μ—†μ–΄λ„ μλ™μΌλ΅ μ¤ν”„λ§ λΉμ„ λ“±λ΅ν•λ” `μ»΄ν¬λ„νΈ μ¤μΊ”`μ„ μ κ³µ
- μμ΅΄κ΄€κ³„λ„ μλ™μΌλ΅ μ£Όμ…ν•λ” `@Autowired`λΌλ” κΈ°λ¥λ„ μ κ³µ

#### @ComponentScan
```java
@Configuration
@ComponentScan (
        excludeFilters = @ComponentScan.Filter(type = FilterType.ANNOTATION, classes = Configuration.class)
) // κΈ°μ΅΄μ— μ‘μ„±ν• μ„¤μ •μ •λ³΄ μ¤μΊ”λ€μƒμ—μ„ μ μ™Έ
public class AutoAppConfig {
}
```
- μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅ν•΄μ£ΌκΈ° μ„ν•΄μ„  κ° ν΄λμ¤κ°€ μ»΄ν¬λ„νΈ μ¤μΊ” λ€μƒμ΄ λλ„λ΅ `@Component` μ• λ…Έν…μ΄μ…μ„ λ¶™μ—¬μ•Όν•¨
- `@Component` μ• λ…Έν…μ΄μ…μ΄ λ¶™μ€ ν΄λμ¤λ¥Ό μ¤μΊ”ν•΄ μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅
  - λΉ μ΄λ¦„ κΈ°λ³Έ μ „λµ : ν΄λμ¤ λ… λ§¨ μ•κΈ€μ μ†λ¬Έμλ΅ μ‚¬μ© MemberServiceImpl π‘‰ memberServiceImpl
  - λΉ μ΄λ¦„ μ§μ ‘ μ§€μ • : @Component("memberService") μ§μ ‘ μ΄λ¦„μ„ λ¶€μ—¬
- `@Configuration`μ΄ μ¤μΊ” λ€μƒμ΄ λλ” μ΄μ λ” `@Component` μ• λ…Έν…μ΄μ…μ΄ λ¶™μ–΄μκΈ° λ•λ¬Έ

#### @Autowired
```java
@Component
public class MemberServiceImpl implements MemberService{
    private final MemberRepository memberRepository;

    @Autowired // μλ™ μμ΅΄κ΄€κ³„ μ£Όμ…
    public MemberServiceImpl(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }

  ...
}
```
- μ΄μ „ μ„¤μ •μ •λ³΄λ¥Ό μ‘μ„±ν•  λ•λ” `@Bean`μΌλ΅ μ§μ ‘ μ„¤μ •μ •λ³΄λ¥Ό μ‘μ„±ν•κ³  μμ΅΄κ΄€κ³„λ„ μ§μ ‘ λ…μ‹
- `@ComponentScan`μ„ μ‚¬μ©ν•λ©΄ μ΄λ° μ„¤μ •μ •λ³΄κ°€ μ—†κΈ° λ•λ¬Έμ— μμ΅΄κ΄€κ³„ μ£Όμ…λ„ ν΄λμ¤ μ•μ—μ„ ν•΄κ²°ν•΄μ•Όν•¨
- μλ™μΌλ΅ μμ΅΄κ΄€κ³„λ¥Ό μ£Όμ…ν•κΈ° μ„ν•΄ μƒμ„±μμ— `@Autowired` μ• λ…Έν…μ΄μ…μ„ μ‚¬μ©
- μ¤ν”„λ§ μ»¨ν…μ΄λ„κ°€ μλ™μΌλ΅ ν•΄λ‹Ή μ¤ν”„λ§ λΉμ„ μ°Ύμ•„ μ£Όμ…
  - μ΄λ• κΈ°λ³Έ μ΅°ν μ „λµμ„ νƒ€μ…μ΄ κ°™μ€ λΉμ„ μ°Ύμ•„μ„ μ£Όμ…
  - `getBean(MemberRepository.class)`μ™€ λ™μΌν•λ‹¤κ³  μ΄ν•΄

---
